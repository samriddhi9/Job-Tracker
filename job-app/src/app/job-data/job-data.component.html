
<div id="loader" *ngIf="showLoader"></div>
<div class="container"  *ngIf="!showLoader && authService.isloggedin">
    <div class="progress" *ngIf ="pageLoader">
        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%">
          Deleting the record
        </div>
    </div>
    <h3>Applied list of Jobs</h3>
    <div class="table-responsive">
        <table class="table" id="excel-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Title</th>
                    <th>Date of Application</th>
                    <th>Organization Name</th>
                    <th>Status</th>
                    <th>Country</th>
                    <th>URL</th>
                    <!-- <th>Parent's Name</th> -->
                    <!-- <th>Check Current Status</th> -->
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of jobsData">
                    <td>{{item.id}}</td>
                    <td>{{item.name? item.name : '-'}}</td>
                    <td>{{item.dateOfApplication ? item.dateOfApplication : '-'}}</td>
                    <td>{{item.companyName ? item.companyName : '-'}}</td>
                    <td>{{item.status ? item.status : '-'}}</td>
                    <td>{{item.country ? item.country : '-'}}</td>
                    <td *ngIf="item.url"><a href="{{item.url}}" target="_blank">Redirect to Company's Website</a></td>
                    <td *ngIf="!item.url">-</td>
                    <!-- <td>{{item.parentName}}</td>
                    <td>{{item.contact}}</td> -->
                    <td style="display: flex">
                        <button type="button" class="btn btn-warning btn-sm" (click)="checkStatus(item)">Check Current Status
                            <i class="fa fa-question-circle" style="font-size:15px;color:black"></i>
                        </button>
                        <button type="button" class="btn btn-edit btn-sm" [routerLink]="'/edit/'+ item.id">Edit
                            <i class="fa fa-edit" style="font-size:15px;color:black"></i>
                        </button>
                        <button type="button" class="btn btn-danger btn-delete" (click)="delete(item);">Delete
                            <i class="fa fa-trash" style="font-size:15px;color:black"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
     </div>
    <button type="button" class="btn btn-success" [routerLink]="[ '/create']">Add New</button>
    <button type="button" class="btn btn-primary" (click)="downloadFile()" style="margin-left: 10px;;">Download Excel</button>
</div>

<!-- <div class="popup-overlay">
    <div class="popup">
      <h2>Popup Title</h2>
      <form>
        <div class="form-group">
          <label for="field1">Job Title:</label>
          
        </div>
        <div class="form-group">
          <label for="field2">At:</label>
          <input type="text" id="field2" name="field2" [(ngModel)]="field2Value" required>
        </div>
        <button (click)="submitForm()">Submit</button>
      </form>
    </div>
  </div> -->

