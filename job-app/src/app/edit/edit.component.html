<app-header *ngIf="!showLoader && authService.isloggedin"></app-header>
<div id="loader" *ngIf="showLoader"></div>
<div class="container" *ngIf="!showLoader && authService.isloggedin">

  <h3>Edit Record</h3>

  <form (ngSubmit)="update()" #f="ngForm">

    <div class="form-group" [ngClass]="{'has-danger': name.invalid && (name.dirty || name.touched),
    'has-success': name.valid && (name.dirty || name.touched) }">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" name="name" [(ngModel)]="data.name" ngModel #name="ngModel"
        placeholder="Enter Name" minlength="2" required>
    </div>
    <div class="alert alert-danger" *ngIf="name.errors && (name.dirty || name.touched)">
      <p *ngIf="name.errors?.required">Name is required</p>
      <p *ngIf="name.errors?.minlength">Name must contain at least the 2 character</p>
    </div>

    <div class="form-group" [ngClass]="{'has-danger': dob.invalid && (dob.dirty || dob.touched),
'has-success': dob.valid && (dob.dirty || dob.touched) }">
      <label for="dob">Date Of Birth</label>
      <input type="text" class="form-control" id="dob" name="dob" [(ngModel)]="data.dateOfApplication" ngModel #dob="ngModel"
        placeholder="Enter Date Of Birth in DD/MM/YYYY format"
        pattern="^(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\d\d$" required>
    </div>
    <div class="alert alert-danger" *ngIf="dob.errors && (dob.dirty || dob.touched)">
      <p *ngIf="dob.errors?.required">Date Of Birth is required</p>
      <p *ngIf="dob.errors?.pattern">Date provided is invalid</p>
    </div>

    <!-- <div class="form-group" [ngClass]="{'has-danger': email.invalid && (email.dirty || email.touched),
'has-success': email.valid && (email.dirty || email.touched) }">
      <label for="email">Email</label>
      <input type="text" class="form-control" id="email" name="email" pattern="[^ @]*@[^ @]*" [(ngModel)]="data.email"
        ngModel #email="ngModel" placeholder="Enter Email" required>
    </div>
    <div class=" alert alert-danger" *ngIf="email.errors && (email.dirty || email.touched)">
      <p *ngIf="email.errors?.required">Email is required </p>
      <p *ngIf="email.errors?.pattern">Email must contain at least the @ character</p>
    </div> -->

    <div class="form-group" [ngClass]="{'has-danger': std.invalid && (std.dirty || std.touched),
'has-success': std.valid && (std.dirty || std.touched) }">
      <label for="std">Status</label>
      <input type="text" class="form-control" id="std" name="std" [(ngModel)]="data.status" ngModel #std="ngModel"
        placeholder="Enter status" required>
    </div>
    <div class="alert alert-danger" *ngIf="std.errors && (std.dirty || std.touched)">
      <p *ngIf="std.errors?.required">Status is required </p>
    </div>

    <div class="form-group" [ngClass]="{'has-danger': companyName.invalid && (companyName.dirty || companyName.touched),
'has-success': companyName.valid && (companyName.dirty || companyName.touched) }">
      <label for="companyName">At</label>
      <input type="text" class="form-control" id="orgName" name="orgName" [(ngModel)]="data.companyName" ngModel
        #companyName="ngModel" placeholder="Enter Organization's Name" required>
    </div>
    <div class="alert alert-danger" *ngIf="companyName.errors && (companyName.dirty || companyName.touched)">
      <p *ngIf="companyName.errors?.required">Organization's Name is required</p>
    </div>

    <!-- <div class="form-group" [ngClass]="{'has-danger': contact.invalid && (contact.dirty || contact.touched),
'has-success': contact.valid && (contact.dirty || contact.touched) }">
      <label for="contact">Contact</label>
      <input type="text" class="form-control" id="contact" name="contact" [(ngModel)]="data.contact" ngModel
        #contact="ngModel" placeholder="Enter Contact" maxlength="10" pattern="^[0-9]*$" required>
    </div>
    <div class="alert alert-danger" *ngIf="contact.errors && (contact.dirty || contact.touched)">
      <p *ngIf="contact.errors?.required">Contact Number is required</p>
      <p *ngIf="contact.errors?.maxlength">Contact Number must contain 10 digits</p>
      <p *ngIf="contact.errors?.pattern">Contact Number must contain only numbers</p>
    </div> -->

    <button type="submit" class="btn btn-success" [disabled]="f.invalid">Update</button>
  </form>

  <button type="submit" class="btn btn-warning" [routerLink]="[ '/list']">Cancel</button>
</div>